"0","likert <- function(col){"
"0","  lbls <- c(1:6)"
"0","  if (sum(str_detect(col, ""agree$""), na.rm = TRUE) > 0){"
"0","    lvls <- c(""Strongly disagree"", ""Disagree"", ""Somewhat disagree"", ""Somewhat agree"", ""Agree"", ""Strongly agree"")"
"0","  } else if (sum(str_detect(col, ""[Nn]egative$|[Pp]ositive""), na.rm = TRUE) > 0){"
"0","    lvls <- c(""Strongly negative"", ""Negative"", ""Somewhat negative"", ""Somewhat positive"", ""Positive"", ""Strongly positive"")"
"0","  } else if (sum(str_detect(col, ""likely$""), na.rm = TRUE) > 0){"
"0","    lvls <- c(""Very unlikely"", ""Unlikely"", ""Somewhat unlikely"", ""Somewhat likely"", ""Likely"", ""Strongly likely"")"
"0","  } else {"
"0","    return(col)"
"0","  }"
"0","  factor(col, lvls, lbls)"
"0","}"
"0",""
"0","# try case_when, refactor"
"0",""
"0","# Convert Likert items to factors"
"0",""
"0","dat <- full"
"0","for (i in seq_along(dat)) {"
"0","  dat[[i]] <- likert(dat[[i]])"
"0","}"
"0",""
"0","nm <- dat %>%"
"0","  select(matches(""fit""), "
"0","         -matches(""long""), "
"0","         matches(""relative""),"
"0","         switched,"
"0","         cs_xp) %>%"
"0","  names()"
"0",""
"0","dat <- mutate_at(dat, nm, ~ case_when(. == ""1 = Not at all similar"" ~ 1,"
"0","                                      . == ""1 = A lot less"" ~ 1, "
"0","                                      . == ""2"" ~ 2, "
"0","                                      . == ""3"" ~ 3, "
"0","                                      . == ""4"" ~ 4, "
"0","                                      . == ""5"" ~ 5, "
"0","                                      . == ""6 = Very similar or the same"" ~ 6,"
"0","                                      . == ""6 = A lot more"" ~ 6,"
"0","                                      . == ""Yes"" ~ 1,"
"0","                                      . == ""No"" ~ 0))"
"0",""
"0","# Convert time intervals and gpas to double"
"0","for (i in seq_along(dat)) {"
"0","  if (str_detect(names(dat[i]), ""time_\\d"")) {"
"0","    dat[,i] <- as.numeric(dat[,i])"
"0","  }"
"0","}"
"0",""
"0","dat <- dat %>%"
"0","  mutate(seconds = as.numeric(seconds),"
"0","         gpa = as.numeric(gpa))"
